<%- include('../partials/head.ejs')%>
    <link rel="stylesheet" href="/css/styles-product-org.css">
    </head>

    <body>
        <%- include('../partials/header.ejs')%>
            <main>
                <h2 class="titulo">Creación de Producto</h2>
                <div class="container-form">
                    <form id="register" action="/product/add" method="POST" enctype="multipart/form-data">
                        
                        <div class="form_left">
                            <% if(locals.errors) { errors.forEach(error=> { %>
                            <p class="error_msg">
                                <%= error.msg %>
                            </p>
                        
                            <% }) }%>
                            <div class="first">
                                <div class="cateogry-selector">
                                    <label class="" for="category">Categoria: </label><br>
                                    <select name="category" class="select">
                                        <option value="">Seleccionar</option>
                                        <option value="Plafon">Plafón</option>
                                        <option value="Aplique">Aplique</option>
                                        <option value="Pie">Pie</option>
                                        <option value="Colgante">Colgante</option>
                                        <option value="Spot">Spot</option>
                                        <option value="Accesorios">Sistemas/Accesorios</option>
                                        <option value="Mesa">Mesa</option>
                                        <option value="Exterior">Exterior</option>
                                    </select>
                                </div>
                            </div><br>
                            <div class="first">
                                <div class="in-line-data">
                                    <label class="" for="name">Nombre del Producto: </label><br>
                                    <input class="box" type="text" name="name" id="producto" value="<%= locals.old && old.name ? old.name : '' %>" >
                                </div>
                            </div><br>
                            <div class="first">
                                <div class="in-line-data">
                                    <label class="" for="qty">Cantidad: </label><br>
                                    <input class="box" type="number" name="qty" id="producto" min="0" value="<%= locals.old && old.qty ? old.qty : '' %>" >
                                </div>
                            </div><br>
                            <div class="first-">
                                <label class="" for="source">Fuente: </label>

                                <div>
                                    <input class="radio" type="radio" name="source" value="led" <%= (locals.old && old.source === 'led') ? 'checked' : '' %>>LED Incorporado
                                </div>
                                <div>
                                    <input class="radio" type="radio" name="source" value="Lampara" <%= (locals.old && old.source === 'Lampara') ? 'checked' : '' %>>Lampara
                                </div>
                            </div><br>
                            <div>
                                <div class="first-">
                                    <label class="" for="material">Material: </label>
                                    <div>
                                        <input class="check" type="checkbox" name="material" value="Aluminio"<%= (locals.old && old.material === 'Aluminio') ? 'checked' : '' %> > Aluminio
                                    </div>
                                    <div>
                                        <input class="check" type="checkbox" name="material" value="Madera"<%= (locals.old && old.material === 'Madera') ? 'checked' : '' %> > Madera
                                    </div>
                                    <div>
                                        <input class="check" type="checkbox" name="material" value="Chapa"<%= (locals.old && old.material === 'Chapa') ? 'checked' : '' %> > Chapa
                                    </div>
                                    <div>
                                        <input class="check" type="checkbox" name="material" value="Hierro"<%= (locals.old && old.material === 'Hierro') ? 'checked' : '' %> > Hierro
                                    </div>
                                </div>
                                <div class="in-line-data">
                                    <label class="otros-materiales" for="otros-material">Otros materiales: </label><br>
                                    <input class="box-1" type="text" name="material" id="otros-material"
                                        placeholder="Opcional" value="">
                                </div>
                            </div><br>
                            <div class="first-">
                                <label class="" for="optic">Optica: </label>
                                <div>
                                    <input class="check" type="checkbox" name="optic" value="Flood" <%= (locals.old && old.optic === 'Hierro') ? 'checked' : '' %>> Flood
                                </div>
                                <div>
                                    <input class="check" type="checkbox" name="optic" value="Spot"<%= (locals.old && old.optic === 'Spot') ? 'checked' : '' %>> Spot
                                </div>
                                <div>
                                    <input class="check" type="checkbox" name="optic" value="WideFlood"<%= (locals.old && old.optic === 'WideFlood') ? 'checked' : '' %>> Wide Flood
                                </div>
                                <div>
                                    <input class="check" type="checkbox" name="optic" value="Oval"<%= (locals.old && old.optic === 'Oval') ? 'checked' : '' %>> Oval
                                </div>
                            </div><br>
                            <div class="first-">
                                <label for="power">Potencia: </label>
                                <% for(j=1;j<=4;j++){ %>
                                    <select name="power" class="select">
                                        <option value="">Seleccionar</option>
                                        <% for(i=1;i<=100;i++){ %>
                                            <option value="<%=[i]%>W">
                                                <%=[i]%>W
                                            </option>
                                            <%}%>
                                    </select>
                                    <%}%>
                            </div><br>
                            <div class="first-">
                                <label class="" for="cct">CCT: </label>
                                <div>
                                    <input class="check" type="checkbox" name="cct" value="2700" <%= (locals.old && old.cct == 2700) ? 'checked' : '' %>>2700k
                                </div>
                                
                                <div>
                                    <input class="check" type="checkbox" name="cct" value="3000" <%= (locals.old && old.cct == 3000) ? 'checked' : '' %>>3000k
                                </div>
                                
                                <div>
                                    <input class="check" type="checkbox" name="cct" value="3500" <%= (locals.old && old.cct == 3500) ? 'checked' : '' %>>3500k
                                </div>
                                
                                <div>
                                    <input class="check" type="checkbox" name="cct" value="4000" <%= (locals.old && old.cct === 4000) ? 'checked' : '' %>>4000k
                                </div>
                                
                            </div><br>
                            <div class="first-">
                                <label class="" for="dim">Dim: </label>
                                <div>
                                    <input class="check" type="checkbox" name="dim" value="Switch" <%= (locals.old && old.dim === 'Switch') ? 'checked' : '' %>> Switch
                                </div>
                                <div>
                                    <input class="check" type="checkbox" name="dim" value="Dimeable" <%= (locals.old && old.dim === 'Dimeable') ? 'checked' : '' %>> Dimeable
                                </div>
                                <div>
                                    <input class="check" type="checkbox" name="dim" value="DALI" <%= (locals.old && old.dim === 'DALI') ? 'checked' : '' %>> DALI
                                </div>
                                <div>
                                    <input class="check" type="checkbox" name="dim" value="Bluetooth" <%= (locals.old && old.dim === 'Bluetooth') ? 'checked' : '' %>> Bluetooth
                                </div>
                            </div><br>
                            <div class="first-">
                                <label class="price" for="price">Precio unitario base: </label><br>
                                <input class="price" type="number" name="price" id="precio" min="0" max="999999999999"
                                    step="0.01" placeholder=" Ej 1525.35" value="<%= locals.old && old.price ? old.price : '' %>" >
                            </div><br>
                        </div>
                        <div class="form_right">
                            <div class="imagenes">
                                <div class="imagen-input">
                                    <label class="title" for="main_image">Imagen Principal: </label><br>
                                    <input type="file" name='main_image' onchange="loadFile(event)" accept=".jpg"><br>
                                    <p>Preview:</p>
                                    <img id="output" />
                                    <script>
                                        var loadFile = function (event) {
                                            var output = document.getElementById('output');
                                            output.src = URL.createObjectURL(event.target.files[0]);
                                            output.onload = function () {
                                                URL.revokeObjectURL(output.src) // free memory
                                            }
                                        };
                                    </script>
                                </div><br>
                                <div class="imagen-input">
                                    <label class="title" for="image_dimension">Dimensiones del Producto: </label><br>
                                    <input type="file" name="image_dimension" accept=".jpg , .png">
                                </div><br>
                            </div>
                            <div class="imagenes">
                                <div class="imagen-input">
                                    <label class="title" for="image_slider">Slider: </label><br>
                                    <input type="file" name="image_slider" accept=".jpg , .png"> <br>
                                    <input type="file" name="image_slider" accept=".jpg , .png"><br>
                                    <input type="file" name="image_slider" accept=".jpg , .png">
                                </div><br>
                            </div>
                            <div class="imagenes">
                                <div class="imagen-input">
                                    <label class="" for="data_sheet">Hoja Técnica: </label><br>
                                    <input type="file" src="" alt="" name="data_sheet" accept=".pdf">
                                </div><br>
                                <div class="imagen-input">
                                    <label class="" for="install_sheet">Manual de Instalación: </label><br>
                                    <input type="file" src="" alt="" name="install_sheet" accept=".pdf">
                                </div><br>
                            </div>
                        </div>
                        <div class="button-container">
                            <button id="button-enviar" type="submit">Agregar Producto</button>
                            <button id="button-borrar" type="reset">Resetear</button>
                        </div>
                    </form>
                </div>
            </main>
            <%- include('../partials/footer.ejs')%>
    </body>

    </html>